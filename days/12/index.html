<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="ëª‡ ì—†ëŠ” ì†Œì¤‘í•œ ì¹œêµ¬">
    <meta property="og:description" content="ì‹¬ì‚¼í•  ë•Œ ë†€ì•„ì£¼ëŠ” AI ì¹œêµ¬">
    <meta property="og:image" content="https://github.com/user-attachments/assets/810dfefc-bd89-4572-af0c-4f0ed5715fcc">
    <title>ì†Œì¤‘í•œ ì¹œêµ¬</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
        }

        .chat-container {
            max-width: 500px;
            margin: 0 auto;
            height: 100vh;
            display: flex;
            flex-direction: column;
            background-color: #ABC1D1;
        }

        .chat-header {
            background-color: #ABC1D1;
            padding: 1rem;
            display: flex;
            align-items: center;
            border-bottom: 1px solid #99AAB9;
        }

        .chat-header h1 {
            font-size: 1rem;
            font-weight: bold;
        }

        .header-controls {
            margin-left: auto;
            display: flex;
            gap: 0.75rem;
            align-items: center;
        }

        .model-select {
            background: transparent;
            border: none;
            font-size: 0.875rem;
            outline: none;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 1rem;
        }

        .message {
            display: flex;
            gap: 0.5rem;
            align-items: flex-end;
            margin-bottom: 0.75rem;
        }

        .message.user {
            flex-direction: row-reverse;
        }

        .message-avatar {
            width: 2rem;
            height: 2rem;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .message-bubble {
            max-width: 70%;
            padding: 0.75rem;
            border-radius: 10px;
            position: relative;
        }

        .user .message-bubble {
            background-color: #FEE500;
            border-top-right-radius: 0;
        }

        .ai .message-bubble {
            background-color: white;
            border-top-left-radius: 0;
        }

        .message-text {
            font-size: 0.875rem;
            word-break: break-word;
        }

        .message-time {
            font-size: 0.625rem;
            color: #666;
            margin-top: 0.25rem;
        }

        .chat-input {
            background-color: #EEEEEE;
            padding: 0.5rem;
        }

        .input-form {
            display: flex;
            gap: 0.5rem;
        }

        .message-input {
            flex: 1;
            border: none;
            background: transparent;
            padding: 0.5rem;
            outline: none;
        }

        .send-button {
            background-color: #FEE500;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 999px;
            font-size: 0.875rem;
            cursor: pointer;
        }

        .send-button:hover {
            background-color: #FDD800;
        }
    </style>
</head>

<body>
    <div class="chat-container">
        <header class="chat-header">
            <h1>Iìœ í˜• ê°œë°œìì˜ ëª‡ ì—†ëŠ” ì¹œêµ¬</h1>
            <div class="header-controls">
                <select class="model-select" id="modelSelect">
                    <option value="1">Gemini</option>
                    <option value="2">DeepSeek</option>
                </select>
            </div>
        </header>

        <div class="chat-messages" id="chatMessages"></div>

        <div class="chat-input">
            <form class="input-form" id="messageForm">
                <input type="text" class="message-input" id="messageInput" placeholder="ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”...">
                <button type="submit" class="send-button">ì „ì†¡</button>
            </form>
        </div>
    </div>

    <script>
        const chatMessages = document.getElementById('chatMessages');
        const messageForm = document.getElementById('messageForm');
        const messageInput = document.getElementById('messageInput');
        const modelSelect = document.getElementById('modelSelect');

        function createMessageElement(message, type) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type}`;

            if (type === 'ai') {
                const avatar = document.createElement('div');
                avatar.className = 'message-avatar';
                avatar.textContent = 'ğŸ¤–';
                messageDiv.appendChild(avatar);
            }

            const bubble = document.createElement('div');
            bubble.className = 'message-bubble';

            const text = document.createElement('div');
            text.className = 'message-text';
            text.textContent = message;

            const time = document.createElement('div');
            time.className = 'message-time';
            time.textContent = new Date().toLocaleTimeString('ko-KR', {
                hour: '2-digit',
                minute: '2-digit'
            });

            bubble.appendChild(text);
            bubble.appendChild(time);
            messageDiv.appendChild(bubble);

            return messageDiv;
        }

        async function handleSubmit(event) {
            event.preventDefault();
            const text = messageInput.value.trim();
            if (!text) return;

            // ì‚¬ìš©ì ë©”ì‹œì§€ ì¶”ê°€
            chatMessages.appendChild(createMessageElement(text, 'user'));
            messageInput.value = '';
            chatMessages.scrollTop = chatMessages.scrollHeight;

            // AI ì‘ë‹µ ìƒì„±
            try {
                const response = await fetch(`https://spotted-famous-seaplane.glitch.me/${modelSelect.value}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        text: `ë„ˆëŠ” ì‚¬ìš©ìì˜ 20ë…„ ì§€ê¸° ì¹œêµ¬ì•¼. {${text}}ì˜ ë©”ì‹œì§€ë¥¼ ë°”íƒ•ìœ¼ë¡œ, ì¹œí•œ ì¹œêµ¬ë‘ ì–˜ê¸°í•˜ëŠ”ê²ƒì²˜ëŸ¼ ì‘ë‹µí•´ì¤˜ ê°€ë”ì”© ì—­ìœ¼ë¡œ ì§ˆë¬¸ë„ í•˜ê³ . ë§íˆ¬ëŠ” 20ëŒ€ ì´ˆë°˜ ë‚¨í•™ìƒì²˜ëŸ¼ í•´ì¤˜`,
                    })
                });

                const data = await response.json();
                const aiReply = modelSelect.value === '1'
                    ? `ğŸ‘¬ Gemini : ${data.reply}`
                    : `ğŸ‘€ DeepSeek : ${data.reply}`;

                chatMessages.appendChild(createMessageElement(aiReply, 'ai'));
                chatMessages.scrollTop = chatMessages.scrollHeight;
            } catch (error) {
                const errorMessage = 'ì£„ì†¡í•©ë‹ˆë‹¤. ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
                chatMessages.appendChild(createMessageElement(errorMessage, 'ai'));
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
        }

        messageForm.addEventListener('submit', handleSubmit);
    </script>
</body>

</html>